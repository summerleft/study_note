# this
### 绑定规则
##### 默认绑定
+ this默认绑定指向全局对象
+ this的绑定完全取决于调用位置而不是定义位置
+ 严格模式下this默认绑定到undefined

##### 隐式绑定
+ 函数引用有上下文对象时，隐式绑定规则会把函数调用中的this绑定到这个上下文对象
+ 回调函数容易丢失this绑定，同时可能会强制修改this

##### 显式绑定
+ call和apply
+ 传入原始值时会被转换成它的对象形式
+ 硬绑定```Function.prototype.bind```
+ 某些第三方函数和内置函数提供一个可选的参数，称为上下文

##### new绑定
+ 使用new调用函数时，会自动执行以下操作
    1. 创建一个全新的对象
    2. 新对象被执行```[[Prototype]]```连接
    3. 新对象绑定到函数调用的```this```
    4. 如果函数没有返回其他对象，则```new```表达式中的函数调用自动返回这个新对象

##### 优先级
+ 隐式绑定 < 显式绑定
+ 隐式绑定 < ```new```绑定

##### 箭头函数
+ 箭头函数根据外层（函数或者全局）作用域决定```this```
+ 箭头函数的绑定无法被修改
```javascript
function foo() {
    return (a) => {
        console.log(this.a);
    }
}

let obj1 = {
    a: 2
}

let obj2 = {
    a: 3
}

let bar = foo.call(obj1);
bar.call(obj2) // 2
```
